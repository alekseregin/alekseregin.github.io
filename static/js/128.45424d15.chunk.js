(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[128],{1236:function(e,t,a){"use strict";a.d(t,"e",(function(){return C})),a.d(t,"l",(function(){return y})),a.d(t,"k",(function(){return k})),a.d(t,"f",(function(){return I})),a.d(t,"g",(function(){return A})),a.d(t,"j",(function(){return S})),a.d(t,"h",(function(){return L})),a.d(t,"a",(function(){return D})),a.d(t,"d",(function(){return T})),a.d(t,"b",(function(){return z})),a.d(t,"i",(function(){return P})),a.d(t,"m",(function(){return E}));var n=a(4),r=a(20),c=a(3),s=a.n(c),i=a(7),l=a(34),d=a(53),o=a.n(d),u=a(59),b=a(153),j=a(21),m=a(58);var f=function(e){return e=e||{},j.a.defaults(e,{id:u.a.generateGUID(),name:"",description:"",idAttachmentCover:"",idMembers:[],idLabels:[],attachments:[],subscribed:!0,checklists:[],checkItems:0,checkItemsChecked:0,comments:[],activities:[],due:""})};var x,O=function(e){return e=e||{},j.a.defaults(e,{id:u.a.generateGUID(),name:"",idCards:[]})},h=a(17),p=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(h.a)(r,1)[0];return n.splice(a,0,c),n},v=p,g=function(e,t,a){var n=j.a.find(e,{id:t.droppableId}),r=j.a.find(e,{id:a.droppableId}),c=n.idCards[t.index];if(t.droppableId===a.droppableId){var s=p(n.idCards,t.index,a.index);return e.map((function(e){return e.id===t.droppableId&&(e.idCards=s),e}))}return n.idCards.splice(t.index,1),r.idCards.splice(a.index,0,c),e.map((function(e){return e.id===t.droppableId?n:e.id===a.droppableId?r:e}))},N=a(1303),w=a(1254),C=Object(l.b)("scrumboardApp/board/getBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,e.next=4,o.a.get("/api/scrumboard-app/board",{params:t});case 4:return r=e.sent,e.next=7,r.data;case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(1),n(Object(m.c)({message:e.t0.response.data,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),b.a.push({pathname:"/apps/scrumboard/boards"}),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),y=Object(l.b)("scrumboardApp/board/reorderList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l,d,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,c=r().scrumboardApp.board,i=c.lists,l=v(j.a.merge([],i),t.source.index,t.destination.index),e.next=6,o.a.post("/api/scrumboard-app/list/order",{boardId:c.id,lists:l});case 6:return d=e.sent,e.next=9,d.data;case 9:return u=e.sent,n(Object(m.c)({message:"List Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),k=Object(l.b)("scrumboardApp/board/reorderCard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l,d,u,b,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.source,r=t.destination,c=a.dispatch,i=a.getState,l=i().scrumboardApp.board,d=l.lists,u=g(j.a.merge([],d),n,r),e.next=7,o.a.post("/api/scrumboard-app/card/order",{boardId:l.id,lists:u});case 7:return b=e.sent,e.next=10,b.data;case 10:return f=e.sent,c(Object(m.c)({message:"Card Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),I=Object(l.b)("scrumboardApp/board/newCard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,c=t.cardTitle,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/card/new",{boardId:n,listId:r,data:f({name:c})});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(l.b)("scrumboardApp/board/newList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listTitle,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/list/new",{boardId:n,data:O({name:r})});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),S=Object(l.b)("scrumboardApp/board/renameList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,c=t.listTitle,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/list/rename",{boardId:n,listId:r,listTitle:c});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(l.b)("scrumboardApp/board/removeList",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.listId,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/list/remove",{boardId:n,listId:r});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),D=Object(l.b)("scrumboardApp/board/changeBoardSettings",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,n=a.getState,r=n().scrumboardApp.board,c=j.a.merge({},r.settings,t),e.next=5,o.a.post("/api/scrumboard-app/board/settings/update",{boardId:r.id,settings:c});case 5:return i=e.sent,e.next=8,i.data;case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),T=Object(l.b)("scrumboardApp/board/deleteBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,a.getState,e.next=3,o.a.post("/api/scrumboard-app/board/delete",{boardId:t});case 3:return n=e.sent,b.a.push({pathname:"/apps/scrumboard/boards"}),e.next=7,n.data;case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),z=Object(l.b)("scrumboardApp/board/copyBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,a.getState,r=j.a.merge({},t,{id:u.a.generateGUID(),name:"".concat(t.name," (Copied)"),uri:"".concat(t.uri,"-copied")}),n(Object(N.c)(r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),P=Object(l.b)("scrumboardApp/board/renameBoard",function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.boardTitle,a.dispatch,a.getState,e.next=4,o.a.post("/api/scrumboard-app/board/rename",{boardId:n,boardTitle:r});case 4:return c=e.sent,e.next=7,c.data;case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),R=Object(l.d)({name:"scrumboardApp/boards",initialState:null,reducers:{resetBoard:function(e,t){return null},addLabel:function(e,t){e.labels=[].concat(Object(r.a)(e.labels),[t.payload])}},extraReducers:(x={},Object(n.a)(x,C.fulfilled,(function(e,t){return t.payload})),Object(n.a)(x,y.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(x,k.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(x,A.fulfilled,(function(e,t){e.lists=t.payload})),Object(n.a)(x,I.fulfilled,(function(e,t){return t.payload})),Object(n.a)(x,S.fulfilled,(function(e,t){var a=t.payload,n=a.listId,r=a.listTitle;e.lists=e.lists.map((function(e){return e.id===n&&(e.name=r),e}))})),Object(n.a)(x,L.fulfilled,(function(e,t){e.lists=j.a.reject(e.lists,{id:t.payload})})),Object(n.a)(x,D.fulfilled,(function(e,t){e.settings=t.payload})),Object(n.a)(x,T.fulfilled,(function(e,t){({})})),Object(n.a)(x,P.fulfilled,(function(e,t){e.name=t.payload})),Object(n.a)(x,w.e.fulfilled.type,(function(e,t){e.cards=e.cards.map((function(e){return e.id===t.payload.id?t.payload:e}))})),Object(n.a)(x,w.d.fulfilled,(function(e,t){var a=t.payload;e.cards=j.a.reject(e.cards,{id:a}),e.lists=e.lists.map((function(e){return j.a.set(e,"idCards",j.a.reject(e.idCards,(function(e){return e===a}))),e}))})),x)}),V=R.actions,E=V.resetBoard;V.addLabel,t.c=R.reducer},1254:function(e,t,a){"use strict";a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return f})),a.d(t,"a",(function(){return x}));var n=a(4),r=a(3),c=a.n(r),s=a(7),i=a(34),l=a(53),d=a.n(l),o=a(58),u=Object(i.b)("scrumboardApp/card/updateCard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.card,s=a.dispatch,e.next=4,d.a.post("/api/scrumboard-app/card/update",{boardId:n,card:r});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,s(Object(o.c)({message:"Card Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),b=Object(i.b)("scrumboardApp/card/removeCard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r,s,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.boardId,r=t.cardId,s=a.dispatch,e.next=4,d.a.post("/api/scrumboard-app/card/remove",{boardId:n,cardId:r});case 4:return i=e.sent,e.next=7,i.data;case 7:return l=e.sent,s(x()),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),j=Object(i.d)({name:"scrumboardApp/card",initialState:{dialogOpen:!1,data:null},reducers:{openCardDialog:function(e,t){e.dialogOpen=!0,e.data=t.payload},closeCardDialog:function(e,t){e.dialogOpen=!1,e.data=null}},extraReducers:Object(n.a)({},u.fulfilled,(function(e,t){e.data=t.payload}))}),m=j.actions,f=m.openCardDialog,x=m.closeCardDialog;t.b=j.reducer},1303:function(e,t,a){"use strict";a.d(t,"b",(function(){return x})),a.d(t,"c",(function(){return O})),a.d(t,"e",(function(){return v})),a.d(t,"d",(function(){return N}));var n=a(4),r=a(3),c=a.n(r),s=a(7),i=a(34),l=a(53),d=a.n(l),o=a(153),u=a(59),b=a(21),j=[{id:"26022e4129ad3a5sc28b36cd",name:"High Priority",class:"bg-red text-white"},{id:"56027e4119ad3a5dc28b36cd",name:"Design",class:"bg-orange text-white"},{id:"5640635e19ad3a5dc21416b2",name:"App",class:"bg-blue text-white"},{id:"6540635g19ad3s5dc31412b2",name:"Feature",class:"bg-green text-white"}],m=[{id:"56027c1930450d8bf7b10758",name:"Alice Freeman",avatar:"assets/images/avatars/alice.jpg"},{id:"26027s1930450d8bf7b10828",name:"Danielle Obrien",avatar:"assets/images/avatars/danielle.jpg"},{id:"76027g1930450d8bf7b10958",name:"James Lewis",avatar:"assets/images/avatars/james.jpg"},{id:"36027j1930450d8bf7b10158",name:"John Doe",avatar:"assets/images/avatars/Velazquez.jpg"}];var f=function(e){return e=e||{},b.a.defaults(e,{name:"Untitled Board",uri:"untitled-board",id:u.a.generateGUID(),settings:{color:"",subscribed:!0,cardCoverImages:!0},lists:[],cards:[],members:m,labels:j})},x=Object(i.b)("scrumboardApp/boards/getBoards",Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("/api/scrumboard-app/boards");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),O=Object(i.b)("scrumboardApp/boards/newBoard",function(){var e=Object(s.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch,e.next=3,d.a.post("/api/scrumboard-app/board/new",{board:t||f()});case 3:return n=e.sent,e.next=6,n.data;case 6:return r=e.sent,o.a.push({pathname:"/apps/scrumboard/boards/".concat(r.id,"/").concat(r.handle)}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),h=Object(i.c)({}),p=h.getSelectors((function(e){return e.scrumboardApp.boards})),v=p.selectAll,g=(p.selectById,Object(i.d)({name:"scrumboardApp/boards",initialState:h.getInitialState({}),reducers:{resetBoards:function(e,t){}},extraReducers:Object(n.a)({},x.fulfilled,h.setAll)})),N=g.actions.resetBoards;t.a=g.reducer},1408:function(e,t,a){"use strict";var n=a(136),r=a(1236),c=a(1303),s=a(1254),i=Object(n.c)({boards:c.a,board:r.c,card:s.b});t.a=i},3093:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(1146),c=a(1135),s=a(1124),i=a(1132),l=a(1133),d=a(1150),o=a(1147),u=a(168),b=a(6),j=a(1),m=a(1437),f=a(15),x=a(56),O=a(39),h=a(110),p=a(1104),v=a(1408),g=a(1236),N=a(8),w=a(47),C=a(100),y=a(199),k=a(1136),I=a(1049),A=a(1151),S=a(1143),L=a(76),D=a(21),T=a(0),z={title:""},P=L.d().shape({title:L.f().required("You must enter a title")});var R=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.scrumboardApp.board})),r=Object(j.useState)(!1),s=Object(n.a)(r,2),d=s[0],o=s[1],u=Object(w.f)({mode:"onChange",defaultValues:z,resolver:Object(y.a)(P)}),b=u.control,m=u.formState,x=u.handleSubmit,O=u.reset,h=m.isValid,p=m.dirtyFields;function v(){o(!1)}return m.errors,Object(j.useEffect)((function(){d||O(z)}),[d,O]),Object(T.jsx)("div",{children:Object(T.jsx)(k.a,{className:"w-320 mx-8 sm:mx-12 rounded-20 shadow",square:!0,sx:{backgroundColor:function(e){return Object(C.b)(e.palette.background.paper,"light"===e.palette.mode?.02:.25)}},children:d?Object(T.jsx)(I.a,{onClickAway:v,children:Object(T.jsxs)("form",{className:"p-16",onSubmit:x((function(e){t(Object(g.g)({boardId:a.id,listTitle:e.title})),v()})),children:[Object(T.jsx)(w.a,{name:"title",control:b,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"List title",autoFocus:!0,InputProps:{endAdornment:Object(T.jsx)(A.a,{position:"end",children:Object(T.jsx)(l.a,{onClick:v,size:"large",children:Object(T.jsx)(i.a,{className:"text-18",children:"close"})})})}}))}}),Object(T.jsx)("div",{className:"flex justify-between items-center",children:Object(T.jsx)(c.a,{variant:"contained",color:"secondary",type:"submit",disabled:D.a.isEmpty(p)||!h,children:"Add"})})]})}):Object(T.jsxs)(c.a,{onClick:function(e){e.stopPropagation(),o(!0)},classes:{root:"font-medium w-full rounded-none h-64 px-16 justify-start"},children:[Object(T.jsx)(i.a,{className:"text-32 text-red",children:"add_circle"}),Object(T.jsx)("span",{className:"mx-8",children:"Add a list"})]})})})},V=a(14),E=a(1442),F=a(1137),M={title:""},_=L.d().shape({title:L.f().required("You must enter a title")});var B=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.scrumboardApp.board})),r=Object(j.useState)(!1),s=Object(n.a)(r,2),d=s[0],o=s[1],u=Object(w.f)({mode:"onChange",defaultValues:M,resolver:Object(y.a)(_)}),b=u.control,m=u.formState,x=u.handleSubmit,O=u.reset,h=m.isValid,p=m.dirtyFields;function v(){o(!1)}return m.errors,Object(j.useEffect)((function(){d||O(M)}),[d,O]),Object(T.jsx)("div",{className:"w-full border-t-1",children:d?Object(T.jsx)(I.a,{onClickAway:v,children:Object(T.jsxs)("form",{className:"p-16",onSubmit:x((function(n){t(Object(g.f)({boardId:a.id,listId:e.listId,cardTitle:n.title})).then((function(){e.onCardAdded()})),v()})),children:[Object(T.jsx)(w.a,{name:"title",control:b,render:function(e){var t=e.field;return Object(T.jsx)(S.a,{className:"mb-16",required:!0,fullWidth:!0,variant:"filled",label:"Card title",autoFocus:!0,InputProps:Object(N.a)(Object(N.a)({},t),{},{endAdornment:Object(T.jsx)(A.a,{position:"end",children:Object(T.jsx)(l.a,{onClick:v,size:"large",children:Object(T.jsx)(i.a,{className:"text-18",children:"close"})})})})})}}),Object(T.jsx)("div",{className:"flex justify-between items-center",children:Object(T.jsx)(c.a,{variant:"contained",color:"secondary",type:"submit",disabled:D.a.isEmpty(p)||!h,children:"Add"})})]})}):Object(T.jsxs)(c.a,{onClick:function(e){e.stopPropagation(),o(!0)},classes:{root:"font-medium w-full px-16 rounded-none h-48 justify-start"},children:[Object(T.jsx)(i.a,{className:"text-20",children:"add"}),Object(T.jsx)("span",{className:"mx-8",children:"Add a card"})]})})},q=a(1128),H=a(1109),U=a(339),Y=a(201),G=a(1318),W=a(66),J=a(1254),K=Object(V.a)(k.a)((function(e){var t=e.theme;return{transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut}}));var Q=function(e){var t,a=Object(f.b)(),n=Object(f.c)((function(e){return e.scrumboardApp.board})),r=e.cardId,c=e.index,s=D.a.find(n.cards,{id:r}),l=(t=s,D.a.sum(t.checklists.map((function(e){return D.a.sum(e.checkItems.map((function(e){return e.checked?1:0})))})))),d=function(e){return D.a.sum(e.checklists.map((function(e){return e.checkItems.length})))}(s),o=function(e){return D.a.sum(e.activities.map((function(e){return"comment"===e.type?1:0})))}(s);return Object(T.jsx)(m.b,{draggableId:r,index:c,type:"card",children:function(e,t){return Object(T.jsx)("div",Object(N.a)(Object(N.a)(Object(N.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(T.jsxs)(K,{className:Object(b.default)(t.isDragging?"shadow-lg":"shadow-0","w-full mb-16 rounded-16 cursor-pointer border-1"),onClick:function(e){return function(e,t){e.preventDefault(),a(Object(J.c)(t))}(e,s)},children:[n.settings.cardCoverImages&&""!==s.idAttachmentCover&&Object(T.jsx)("img",{className:"block",src:D.a.find(s.attachments,{id:s.idAttachmentCover}).src,alt:"card cover"}),Object(T.jsxs)("div",{className:"p-16 pb-0",children:[s.idLabels.length>0&&Object(T.jsx)("div",{className:"flex flex-wrap mb-8 -mx-4",children:s.idLabels.map((function(e){var t=D.a.find(n.labels,{id:e});return Object(T.jsx)(H.a,{title:t.name,children:Object(T.jsx)("div",{className:Object(b.default)(t.class,"w-32  h-6 rounded-6 mx-4 mb-6")})},e)}))}),Object(T.jsx)(U.a,{className:"font-medium mb-12",children:s.name}),(s.due||d>0)&&Object(T.jsxs)("div",{className:"flex items-center mb-12 -mx-4",children:[s.due&&Object(T.jsxs)("div",{className:Object(b.default)("flex items-center px-8 py-4 mx-4 rounded-16",Object(W.a)(new Date)>s.due?"bg-red text-white":"bg-green text-white"),children:[Object(T.jsx)(i.a,{className:"text-16",children:"access_time"}),Object(T.jsx)("span",{className:"mx-4",children:Object(Y.a)(Object(G.a)(s.due),"MMM do yy")})]}),d>0&&Object(T.jsxs)("div",{className:Object(b.default)("flex items-center px-8 py-4 mx-4 rounded-16",l===d?"bg-green text-white":"bg-grey-700 text-white"),children:[Object(T.jsx)(i.a,{className:"text-16",children:"check_circle"}),Object(T.jsx)("span",{className:"mx-4",children:"".concat(l,"/").concat(d)})]})]}),s.idMembers.length>0&&Object(T.jsxs)("div",{className:"flex flex-wrap mb-12 -mx-4",children:[s.idMembers.map((function(e){var t=D.a.find(n.members,{id:e});return Object(T.jsx)(H.a,{title:t.name,children:Object(T.jsx)(q.a,{className:"mx-4 w-32 h-32",src:t.avatar})},e)})),Object(T.jsx)("div",{})]})]}),Object(T.jsxs)("div",{className:"flex justify-between h-48 px-16 border-t-1",children:[Object(T.jsxs)("div",{className:"flex items-center -mx-6",children:[s.subscribed&&Object(T.jsx)(i.a,{className:"text-18 mx-6",color:"action",children:"remove_red_eye"}),""!==s.description&&Object(T.jsx)(i.a,{className:"text-18 mx-6",color:"action",children:"description"})]}),Object(T.jsxs)("div",{className:"flex items-center justify-end -mx-6",children:[s.attachments&&Object(T.jsxs)("span",{className:"flex items-center mx-6",children:[Object(T.jsx)(i.a,{className:"text-18",color:"action",children:"attachment"}),Object(T.jsx)(U.a,{className:"mx-8",color:"textSecondary",children:s.attachments.length})]}),o>0&&Object(T.jsxs)("span",{className:"flex items-center mx-6",children:[Object(T.jsx)(i.a,{className:"text-18",color:"action",children:"comment"}),Object(T.jsx)(U.a,{className:"mx-8",color:"textSecondary",children:o})]})]})]})]})}))}})},X=a(1116),Z=a(1111),$=a(597),ee=a(1140),te=L.d().shape({title:L.f().required("You must enter a title")});var ae=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.scrumboardApp.board})),r=Object(j.useState)(null),c=Object(n.a)(r,2),s=c[0],d=c[1],o=Object(j.useState)(!1),u=Object(n.a)(o,2),b=u[0],m=u[1],x=Object(w.f)({mode:"onChange",defaultValues:{title:e.list.name},resolver:Object(y.a)(te)}),O=x.control,h=x.formState,p=x.handleSubmit,v=x.reset,C=h.isValid,k=h.dirtyFields;function L(e){e.stopPropagation(),m(!0)}function z(){m(!1)}return h.errors,Object(j.useEffect)((function(){b||v({title:e.list.name})}),[b,v,e.list.name]),Object(j.useEffect)((function(){b&&s&&d(null)}),[s,b]),Object(T.jsx)("div",Object(N.a)(Object(N.a)({},e.handleProps),{},{children:Object(T.jsxs)("div",{className:"flex items-center justify-between h-48 sm:h-64 px-8",children:[Object(T.jsx)("div",{className:"flex items-center min-w-0 px-12",children:b?Object(T.jsx)(I.a,{onClickAway:z,children:Object(T.jsx)("form",{className:"flex w-full",onSubmit:p((function(n){t(Object(g.j)({boardId:a.id,listId:e.list.id,listTitle:n.title})),z()})),children:Object(T.jsx)(w.a,{name:"title",control:O,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"outlined",margin:"none",autoFocus:!0,InputProps:{endAdornment:Object(T.jsx)(A.a,{position:"end",children:Object(T.jsx)(l.a,{type:"submit",disabled:D.a.isEmpty(k)||!C,size:"large",children:Object(T.jsx)(i.a,{children:"check"})})})}}))}})})}):Object(T.jsx)(U.a,{className:"text-16 font-medium cursor-pointer",onClick:L,children:e.list.name})}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsx)(l.a,{"aria-owns":s?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},variant:"outlined",size:"small",children:Object(T.jsx)(i.a,{className:"text-20",children:"more_vert"})}),Object(T.jsxs)($.a,{id:"actions-menu",anchorEl:s,open:Boolean(s),onClose:function(){d(null)},children:[Object(T.jsxs)(ee.a,{onClick:function(){t(Object(g.h)({boardId:a.id,listId:e.list.id}))},children:[Object(T.jsx)(X.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"delete"})}),Object(T.jsx)(Z.a,{primary:"Remove List"})]}),Object(T.jsxs)(ee.a,{onClick:L,children:[Object(T.jsx)(X.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"edit"})}),Object(T.jsx)(Z.a,{primary:"Rename List"})]})]})]})]})}))},ne=Object(V.a)(k.a)((function(e){var t=e.theme;return{backgroundColor:Object(C.b)(t.palette.background.paper,"light"===t.palette.mode?.02:.25),transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut}}));var re=function(e){var t=Object(j.useRef)(null);function a(){t.current.scrollTop=t.current.scrollHeight}return Object(T.jsx)(m.b,{draggableId:e.list.id,index:e.index,type:"list",children:function(n,r){return Object(T.jsx)("div",Object(N.a)(Object(N.a)({ref:n.innerRef},n.draggableProps),{},{children:Object(T.jsxs)(ne,{className:Object(b.default)(r.isDragging?"shadow-lg":"shadow","w-256 sm:w-320 mx-8 sm:mx-12 max-h-full flex flex-col rounded-20"),square:!0,children:[Object(T.jsx)(ae,{list:e.list,className:"border-b-1",handleProps:n.dragHandleProps}),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(F.a,{className:"flex flex-col flex-1 flex-auto h-full min-h-0 w-full p-0 overflow-auto",ref:t,children:Object(T.jsx)(m.c,{droppableId:e.list.id,type:"card",direction:"vertical",children:function(t){return Object(T.jsxs)("div",{ref:t.innerRef,className:"flex flex-col w-full h-full p-16",children:[e.list.idCards.map((function(t,a){return Object(T.jsx)(Q,{cardId:t,index:a,list:e.list},t)})),t.placeholder]})}})})}),Object(T.jsx)(E.a,{className:"p-0 flex-shrink-0",children:Object(T.jsx)(B,{listId:e.list.id,onCardAdded:a})})]})}))}})},ce=a(606),se=L.d().shape({title:L.f().required("You must enter a title")});var ie=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.scrumboardApp.board})),r=Object(j.useState)(!1),c=Object(n.a)(r,2),s=c[0],d=c[1],o=Object(w.f)({mode:"onChange",defaultValues:{title:a.name},resolver:Object(y.a)(se)}),u=o.control,b=o.formState,m=o.handleSubmit,x=o.reset,O=b.isValid,h=b.dirtyFields;function p(){d(!1)}return b.errors,Object(j.useEffect)((function(){s||x({title:a.name})}),[s,x,a.name]),Object(T.jsx)("div",{className:"flex items-center min-w-0",children:s?Object(T.jsx)(I.a,{onClickAway:p,children:Object(T.jsx)(ce.a,{children:Object(T.jsx)("form",{className:"flex w-full",onSubmit:m((function(e){t(Object(g.i)({boardId:a.id,boardTitle:e.title})),p()})),children:Object(T.jsx)(w.a,{name:"title",control:u,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"filled",margin:"none",autoFocus:!0,hiddenLabel:!0,InputProps:{endAdornment:Object(T.jsx)(A.a,{position:"end",children:Object(T.jsx)(l.a,{type:"submit",disabled:D.a.isEmpty(h)||!O,size:"large",children:Object(T.jsx)(i.a,{children:"check"})})})}}))}})})})}):Object(T.jsxs)("div",{className:"flex items-center justify-center",children:[a.settings.subscribed&&Object(T.jsx)(i.a,{className:"text-16",children:"remove_red_eye"}),Object(T.jsx)(U.a,{className:"text-14 sm:text-18 font-medium cursor-pointer mx-8",onClick:function(e){e.stopPropagation(),d(!0)},color:"inherit",children:a.name})]})})},le=a(1097),de=a(20),oe=a(2913),ue=a(1302),be=a(1256),je=a(1304),me=a(1139),fe=a(2917),xe=a(1149),Oe=a(442),he=a(1165);var pe=function(e){var t=D.a.find(e.members,{id:e.item.idMember});switch(e.item.type){case"comment":return Object(T.jsxs)(xe.a,{dense:!0,className:"px-0",children:[Object(T.jsx)(q.a,{alt:t.name,src:t.avatar,className:"w-32 h-32"}),Object(T.jsxs)(he.a,{className:"flex flex-col mx-16 p-12",sx:{borderRadius:"5px 20px 20px 5px",border:function(e){return"1px solid ".concat(e.palette.divider)}},children:[Object(T.jsxs)("div",{className:"flex items-center",children:[Object(T.jsx)(U.a,{children:t.name}),Object(T.jsx)(U.a,{className:"mx-8 text-12",color:"textSecondary",children:Object(Oe.a)(Object(G.a)(e.item.time),{addSuffix:!0})})]}),Object(T.jsx)(U.a,{children:e.item.message})]})]});case"attachment":return Object(T.jsxs)(xe.a,{dense:!0,className:"px-0",children:[Object(T.jsx)(q.a,{alt:t.name,src:t.avatar,className:"w-32 h-32"}),Object(T.jsxs)("div",{className:"flex items-center mx-16",children:[Object(T.jsxs)(U.a,{children:[t.name,","]}),Object(T.jsx)(U.a,{className:"mx-8",children:e.item.message}),Object(T.jsx)(U.a,{className:"text-12",color:"textSecondary",children:Object(Oe.a)(Object(G.a)(e.item.time),{addSuffix:!0})})]})]});default:return null}};var ve=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],s=a[1];function l(e){s(e.currentTarget)}function d(){s(null)}switch(e.item.type){case"image":return Object(T.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[Object(T.jsx)("div",{className:"flex items-center justify-center min-w-128 w-128 h-128",children:Object(T.jsx)(ce.a,{className:"overflow-hidden shadow",children:Object(T.jsx)("img",{className:"block max-h-full max-h-full",src:e.item.src,alt:"attachment"})})}),Object(T.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[Object(T.jsxs)("div",{className:"flex items-center w-full",children:[Object(T.jsx)(U.a,{className:"text-16 font-semibold truncate flex-shrink",children:e.item.name}),e.card.idAttachmentCover===e.item.id&&Object(T.jsx)(i.a,{className:"text-orange-300 text-20 mx-4",children:"star"})]}),Object(T.jsx)(U.a,{className:"truncate w-full mb-12",color:"textSecondary",children:Object(Y.a)(Object(G.a)(e.item.time),"Pp")}),Object(T.jsxs)(c.a,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:l,variant:"outlined",size:"small",children:["Actions",Object(T.jsx)(i.a,{className:"text-20",children:"arrow_drop_down"})]}),Object(T.jsxs)($.a,{id:"actions-menu",anchorEl:r,open:Boolean(r),onClose:d,children:[e.card.idAttachmentCover!==e.item.id?Object(T.jsx)(ee.a,{onClick:function(){d(),e.makeCover(e.item.id)},children:"Make Cover"}):Object(T.jsx)(ee.a,{onClick:function(){d(),e.removeCover()},children:"Remove Cover"}),Object(T.jsx)(ee.a,{onClick:function(){d(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})]})]})]},e.item.id);case"link":return Object(T.jsxs)("div",{className:"flex w-full sm:w-1/2 mb-16 px-16",children:[Object(T.jsx)(ce.a,{className:"min-w-128 w-128 h-128 flex items-center justify-center rounded-4 overflow-hidden shadow",children:Object(T.jsx)(U.a,{className:"font-semibold",children:"LINK"})}),Object(T.jsxs)("div",{className:"flex flex-auto flex-col justify-center items-start min-w-0 px-16",children:[Object(T.jsx)(U.a,{className:"text-16 font-semibold truncate w-full",children:e.item.url}),Object(T.jsx)(U.a,{className:"truncate w-full mb-12",color:"textSecondary",children:e.item.time}),Object(T.jsxs)(c.a,{"aria-owns":r?"actions-menu":null,"aria-haspopup":"true",onClick:l,variant:"outlined",size:"small",children:["Actions",Object(T.jsx)(i.a,{className:"text-20",children:"arrow_drop_down"})]}),Object(T.jsx)($.a,{id:"simple-menu",anchorEl:r,open:Boolean(r),onClose:d,children:Object(T.jsx)(ee.a,{onClick:function(){d(),e.removeAttachment(e.item.id)},children:"Remove Attachment"})})]})]},e.item.id);default:return null}},ge=a(1103),Ne=a(1148),we=a(59);var Ce=function(e){return e=e||{},D.a.defaults(e,{id:we.a.generateGUID(),name:"",checked:!1})},ye=L.d().shape({name:L.f().required("You must enter a title")});var ke=function(e){var t=Object(w.f)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(y.a)(ye)}),a=t.control,n=t.formState,r=t.handleSubmit,c=t.reset,s=n.isValid,l=n.dirtyFields;return n.errors,Object(T.jsx)("form",{onSubmit:r((function(t){e.onListItemAdd(Ce(t)),c({name:e.name})})),children:Object(T.jsxs)(xe.a,{className:"px-0",dense:!0,children:[Object(T.jsx)("span",{className:"w-40"}),Object(T.jsx)(w.a,{name:"name",control:a,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"flex flex-1 mx-8",name:"name",variant:"outlined",placeholder:"Add an item"}))}}),Object(T.jsx)(Ne.a,{className:"mx-4","aria-label":"Add",size:"small",color:"secondary",type:"submit",disabled:D.a.isEmpty(l)||!s,children:Object(T.jsx)(i.a,{children:"add"})})]})})},Ie=a(1207);var Ae=function(e){var t=e.item,a=e.onListItemChange,n=e.index,r=Object(w.f)({mode:"onChange",defaultValues:t}),c=r.control,s=(0,r.watch)();return Object(j.useEffect)((function(){D.a.isEqual(t,s)||a(s,n)}),[s,n,a,t]),Object(T.jsxs)(xe.a,{className:"px-0",dense:!0,children:[Object(T.jsx)(w.a,{name:"checked",control:c,defaultValue:!1,render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(T.jsx)(Ie.a,{tabIndex:-1,checked:n,onChange:function(e){return a(e.target.checked)},disableRipple:!0})}}),Object(T.jsx)(w.a,{name:"name",control:c,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{className:"flex flex-1 mx-8",variant:"outlined"}))}}),Object(T.jsx)(l.a,{"aria-label":"Delete",onClick:e.onListItemRemove,size:"large",children:Object(T.jsx)(i.a,{children:"delete"})})]},t.id)},Se=L.d().shape({name:L.f().required("You must enter a title")}),Le=Object(j.forwardRef)((function(e,t){var a=Object(j.useState)(!1),r=Object(n.a)(a,2),c=r[0],s=r[1],d=Object(w.f)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(y.a)(Se)}),o=d.control,u=d.formState,b=d.handleSubmit,m=d.reset,f=u.isValid,x=u.dirtyFields;u.errors;function O(e){e.stopPropagation(),s(!0)}function h(){s(!1)}return Object(j.useEffect)((function(){c||m({name:e.name})}),[c,m,e.name]),Object(j.useImperativeHandle)(t,(function(){return{openForm:O}})),c?Object(T.jsx)(I.a,{onClickAway:h,children:Object(T.jsx)("form",{onSubmit:b((function(t){e.onNameChange(t.name),h()})),children:Object(T.jsx)(w.a,{name:"name",control:o,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{variant:"outlined",margin:"dense",autoFocus:!0,InputProps:{endAdornment:Object(T.jsx)(A.a,{position:"end",children:Object(T.jsx)(l.a,{type:"submit",disabled:D.a.isEmpty(x)||!f,size:"large",children:Object(T.jsx)(i.a,{children:"check"})})})}}))}})})}):Object(T.jsx)(U.a,{className:"text-16 font-semibold cursor-pointer mx-8",onClick:O,children:e.name})}));var De=function(e){var t=e.onCheckListChange,a=e.checklist,r=e.index,c=Object(j.useState)(null),s=Object(n.a)(c,2),d=s[0],o=s[1],u=Object(j.useRef)(),b=Object(w.f)({mode:"onChange",defaultValues:a}),m=b.watch,f=b.control,x=m();function O(){o(null)}function h(){return D.a.sum(x.checkItems.map((function(e){return e.checked?1:0})))}return Object(j.useEffect)((function(){D.a.isEqual(x,a)||t(x,r)}),[x,r,t,a]),x?Object(T.jsxs)("div",{className:"mb-24",children:[Object(T.jsxs)("div",{className:"flex items-center justify-between mt-16 mb-12",children:[Object(T.jsxs)("div",{className:"flex items-center",children:[Object(T.jsx)(i.a,{className:"text-20",children:"check_box"}),Object(T.jsx)(w.a,{name:"name",control:f,defaultValue:"",render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(T.jsx)(Le,{name:n,onNameChange:function(e){return a(e)},ref:u})}})]}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsx)(l.a,{"aria-owns":d?"actions-menu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},variant:"outlined",size:"small",children:Object(T.jsx)(i.a,{className:"text-20",children:"more_vert"})}),Object(T.jsxs)($.a,{id:"actions-menu",anchorEl:d,open:Boolean(d),onClose:O,children:[Object(T.jsxs)(ee.a,{onClick:e.onRemoveCheckList,children:[Object(T.jsx)(X.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"delete"})}),Object(T.jsx)(Z.a,{primary:"Remove Checklist"})]}),Object(T.jsxs)(ee.a,{onClick:function(e){O(),u.current.openForm(e)},children:[Object(T.jsx)(X.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"edit"})}),Object(T.jsx)(Z.a,{primary:"Rename Checklist"})]})]})]})]}),Object(T.jsxs)("div",{className:"",children:[Object(T.jsxs)("div",{className:"flex items-center -mx-6",children:[Object(T.jsx)(U.a,{className:"flex font-semibold mx-6",children:"".concat(h()," / ").concat(x.checkItems.length)}),Object(T.jsx)(ge.a,{className:"flex flex-1 mx-6",variant:"determinate",color:"secondary",value:100*h()/x.checkItems.length})]}),Object(T.jsx)(w.a,{name:"checkItems",control:f,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(T.jsxs)(me.a,{className:"",children:[n.map((function(e,t){return Object(T.jsx)(Ae,{item:e,index:t,onListItemChange:function(e,t){a(D.a.setIn(n,"[".concat(t,"]"),e))},onListItemRemove:function(){a(D.a.reject(n,{id:e.id}))}},e.id)})),Object(T.jsx)(ke,{onListItemAdd:function(e){return a([].concat(Object(de.a)(n),[e]))}})]})}})]})]}):null};var Te=function(e){return e=e||{},D.a.defaults(e,{id:we.a.generateGUID(),type:"comment",idMember:null,message:"",time:Object(W.a)(new Date)})},ze=L.d().shape({message:L.f().required("You must enter a comment")});var Pe=function(e){var t={idMember:"36027j1930450d8bf7b10158",message:""},a=Object(w.f)({mode:"onChange",defaultValues:t,resolver:Object(y.a)(ze)}),n=a.control,r=a.formState,s=a.handleSubmit,i=a.reset,l=r.isValid,d=r.dirtyFields,o=r.errors,u=D.a.find(e.members,{id:t.idMember});return Object(T.jsxs)("form",{onSubmit:s((function(a){e.onCommentAdd(Te(Object(N.a)(Object(N.a)({},t),a))),i(t)})),className:"flex -mx-8",children:[Object(T.jsx)(q.a,{className:"w-32 h-32 mx-8",alt:u.name,src:u.avatar}),Object(T.jsxs)("div",{className:"flex flex-col items-start flex-1 mx-8",children:[Object(T.jsx)(w.a,{name:"message",control:n,render:function(e){var t,a=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},a),{},{className:"flex flex-1",fullWidth:!0,error:!!o.message,helperText:null===o||void 0===o||null===(t=o.message)||void 0===t?void 0:t.message,row:3,variant:"outlined",label:"Add comment",placeholder:"Write a comment..."}))}}),Object(T.jsx)(c.a,{className:"mt-16","aria-label":"save",variant:"contained",color:"secondary",type:"submit",size:"small",disabled:D.a.isEmpty(d)||!l,children:"Save"})]})]})};var Re=function(e){return e=e||{},D.a.defaults(e,{id:we.a.generateGUID(),name:"",checkItems:[]})},Ve=a(1154);var Ee=function(e){return Object(T.jsx)(Ve.a,{open:Boolean(e.state),anchorEl:e.state,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(T.jsx)(T.Fragment,{children:e.children})})},Fe=L.d().shape({name:L.f().required("You must enter a title")});var Me=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],s=a[1],d=Object(w.f)({mode:"onChange",defaultValues:{name:e.name},resolver:Object(y.a)(Fe)}),o=d.control,u=d.formState,b=d.handleSubmit,m=d.reset,f=u.isValid,x=u.dirtyFields,O=u.errors;function h(){s(null)}return Object(j.useEffect)((function(){r||m({name:e.name})}),[r,m,e.name]),Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){s(e.currentTarget)},size:"large",children:Object(T.jsx)(i.a,{children:"check_box"})}),Object(T.jsx)(Ee,{state:r,onClose:h,children:Object(T.jsxs)("form",{onSubmit:b((function(t){e.onAddCheckList(Re(t)),h()})),className:"p-16 flex flex-col items-end",children:[Object(T.jsx)(w.a,{name:"name",control:o,render:function(e){var t,a=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},a),{},{label:"Checklist title",error:!!O.name,helperText:null===O||void 0===O||null===(t=O.name)||void 0===t?void 0:t.message,fullWidth:!0,className:"mb-12",variant:"outlined",required:!0,autoFocus:!0}))}}),Object(T.jsx)(c.a,{color:"secondary",type:"submit",disabled:D.a.isEmpty(x)||!f,variant:"contained",children:"Add"})]})})]})};var _e=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1],s=e.due?Object(Y.a)(Object(G.a)(e.due),"Pp"):Object(Y.a)(new Date,"Pp");function d(){c(null)}return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},size:"large",children:Object(T.jsx)(i.a,{children:"today"})}),Object(T.jsx)(Ee,{state:r,onClose:d,children:Object(T.jsx)("div",{className:"p-16 max-w-192",children:e.due?Object(T.jsx)(ee.a,{onClick:function(t){e.onRemoveDue(),d()},children:"Remove Due Date"}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(oe.a,{value:s,inputFormat:"Pp",onChange:function(t,a){e.onDueChange(Object(W.a)(t)),d()},renderInput:function(e){return Object(T.jsx)(S.a,Object(N.a)({label:"Due date",placeholder:"Choose a due date",className:"w-full"},e))}})})})})]})};var Be=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},size:"large",children:Object(T.jsx)(i.a,{children:"label"})}),Object(T.jsx)(Ee,{state:r,onClose:function(){c(null)},children:Object(T.jsx)("div",{className:"",children:e.labels.map((function(t){return Object(T.jsxs)(ee.a,{className:"px-8",onClick:function(a){e.onToggleLabel(t.id)},children:[Object(T.jsx)(Ie.a,{checked:e.idLabels.includes(t.id)}),Object(T.jsx)(Z.a,{className:"mx-8",children:t.name}),Object(T.jsx)(X.a,{className:"min-w-24",children:Object(T.jsx)(i.a,{children:"label"})})]},t.id)}))})})]})};var qe=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},size:"large",children:Object(T.jsx)(i.a,{children:"account_circle"})}),Object(T.jsx)(Ee,{state:r,onClose:function(){c(null)},children:Object(T.jsx)("div",{className:"",children:e.members.map((function(t){return Object(T.jsxs)(ee.a,{className:"px-8",onClick:function(a){e.onToggleMember(t.id)},children:[Object(T.jsx)(Ie.a,{checked:e.idMembers.includes(t.id)}),Object(T.jsx)(q.a,{className:"w-32 h-32",src:t.avatar}),Object(T.jsx)(Z.a,{className:"mx-8",children:t.name})]},t.id)}))})})]})};var He=function(e){var t=Object(j.useState)(null),a=Object(n.a)(t,2),r=a[0],c=a[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},size:"large",children:Object(T.jsx)(i.a,{children:"more_horiz"})}),Object(T.jsx)(Ee,{state:r,onClose:function(){c(null)},children:Object(T.jsx)(ee.a,{onClick:e.onRemoveCard,children:"Remove Card"})})]})};var Ue=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.scrumboardApp.card.data})),n=Object(f.c)((function(e){return e.scrumboardApp.board})),c=Object(w.f)({mode:"onChange",defaultValues:a}),s=c.register,d=c.watch,u=c.control,m=c.setValue,x=d(),O=Object(h.a)((function(e,a){t(Object(J.e)({boardId:e,card:Object(N.a)({},a)}))}),600),p=a?D.a.find(n.lists,(function(e){return e.idCards.includes(a.id)})):null;return Object(j.useEffect)((function(){a&&(D.a.isEqual(a,x)||O(n.id,x))}),[n.id,a,x,O]),Object(j.useEffect)((function(){s("idAttachmentCover")}),[s]),a?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(je.a,{component:"div",className:"p-0",children:Object(T.jsx)(r.a,{position:"static",elevation:0,children:Object(T.jsxs)(o.a,{className:"flex w-full overflow-x-auto px-8 sm:px-16",children:[Object(T.jsxs)("div",{className:"flex flex-1",children:[Object(T.jsx)(w.a,{name:"due",control:u,defaultValue:null,render:function(e){var t=e.field,a=t.onChange,n=t.value;return Object(T.jsx)(_e,{onDueChange:a,onRemoveDue:function(){return a(null)},due:n})}}),Object(T.jsx)(w.a,{name:"idLabels",control:u,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,r=t.value;return Object(T.jsx)(Be,{onToggleLabel:function(e){return a(D.a.xor(r,[e]))},labels:n.labels,idLabels:r})}}),Object(T.jsx)(w.a,{name:"idMembers",control:u,defaultValue:[],render:function(e){var t=e.field,a=t.onChange,r=t.value;return Object(T.jsx)(qe,{onToggleMember:function(e){return a(D.a.xor(r,[e]))},members:n.members,idMembers:r})}}),Object(T.jsx)(w.a,{name:"attachments",control:u,defaultValue:[],render:function(e){var t=e.field;t.onChange,t.value;return Object(T.jsx)(l.a,{color:"inherit",size:"large",children:Object(T.jsx)(i.a,{children:"attachment"})})}}),Object(T.jsx)(w.a,{name:"checklists",control:u,defaultValue:[],render:function(e){var t=e.field,a=t.onChange;t.value;return Object(T.jsx)(Me,{onAddCheckList:function(e){return a([].concat(Object(de.a)(x.checklists),[e]))}})}}),Object(T.jsx)(He,{onRemoveCard:function(){return t(Object(J.d)({boardId:n.id,cardId:x.id}))}})]}),Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){return t(Object(J.a)())},size:"large",children:Object(T.jsx)(i.a,{children:"close"})})]})})}),Object(T.jsxs)(be.a,{className:"p-16 sm:p-24",children:[Object(T.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between justify-center items-center my-24",children:[Object(T.jsxs)("div",{className:"mb-16 sm:mb-0 flex items-center",children:[Object(T.jsx)(U.a,{children:n.name}),Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"chevron_right"}),Object(T.jsx)(U.a,{children:p&&p.name})]}),x.due&&Object(T.jsx)(oe.a,{value:Object(Y.a)(Object(G.a)(x.due),"Pp"),inputFormat:"Pp",onChange:function(e){return m("due",Object(W.a)(e))},renderInput:function(e){return Object(T.jsx)(S.a,Object(N.a)({label:"Due date",placeholder:"Choose a due date",className:"w-full sm:w-auto"},e))}})]}),Object(T.jsx)("div",{className:"flex items-center mb-24",children:Object(T.jsx)(w.a,{name:"name",control:u,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{label:"Title",type:"text",variant:"outlined",fullWidth:!0,required:!0,InputProps:{endAdornment:Object(T.jsx)(A.a,{position:"end",children:a.subscribed&&Object(T.jsx)(i.a,{className:"text-20",color:"action",children:"remove_red_eye"})})}}))}})}),Object(T.jsx)("div",{className:"w-full mb-24",children:Object(T.jsx)(w.a,{name:"description",control:u,render:function(e){var t=e.field;return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},t),{},{label:"Description",multiline:!0,rows:"4",variant:"outlined",fullWidth:!0}))}})}),Object(T.jsxs)("div",{className:"flex flex-col sm:flex-row -mx-8",children:[x.idLabels&&x.idLabels.length>0&&Object(T.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"label"}),Object(T.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Labels"})]}),Object(T.jsx)(fe.a,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:n.labels,getOptionLabel:function(e){return e.name},value:x.idLabels.map((function(e){return D.a.find(n.labels,{id:e})})),onChange:function(e,t){m("idLabels",t.map((function(e){return e.id})))},renderTags:function(e,t){return e.map((function(e,a){return Object(T.jsx)(ue.a,Object(N.a)(Object(N.a)({label:e.name},t({index:a})),{},{className:Object(b.default)("m-3",e.class)}))}))},renderInput:function(e){return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},e),{},{placeholder:"Select multiple Labels",label:"Labels",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]}),x.idMembers&&x.idMembers.length>0&&Object(T.jsxs)("div",{className:"flex-1 mb-24 mx-8",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"supervisor_account"}),Object(T.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Members"})]}),Object(T.jsx)(fe.a,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:n.members,getOptionLabel:function(e){return e.name},value:x.idMembers.map((function(e){return D.a.find(n.members,{id:e})})),onChange:function(e,t){m("idMembers",t.map((function(e){return e.id})))},renderTags:function(e,t){return e.map((function(e,a){return Object(T.jsx)(ue.a,Object(N.a)(Object(N.a)({label:e.name},t({index:a})),{},{className:Object(b.default)("m-3",e.class),avatar:Object(T.jsx)(H.a,{title:e.name,children:Object(T.jsx)(q.a,{src:e.avatar})})}))}))},renderInput:function(e){return Object(T.jsx)(S.a,Object(N.a)(Object(N.a)({},e),{},{placeholder:"Select multiple Members",label:"Members",variant:"outlined",InputLabelProps:{shrink:!0}}))}})]})]}),x.attachments&&x.attachments.length>0&&Object(T.jsxs)("div",{className:"mb-24",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"attachment"}),Object(T.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Attachments"})]}),Object(T.jsx)("div",{className:"flex flex-col sm:flex-row flex-wrap -mx-16",children:x.attachments.map((function(e){return Object(T.jsx)(ve,{item:e,card:x},e.id)}))})]}),x.checklists&&x.checklists.map((function(e,t){return Object(T.jsx)(De,{checklist:e,index:t,onCheckListChange:function(e,t){m("checklists",D.a.setIn(x.checklists,"[".concat(t,"]"),e))},onRemoveCheckList:function(){m("checklists",D.a.reject(x.checklists,{id:e.id}))}},e.id)})),Object(T.jsxs)("div",{className:"mb-24",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16 mb-12",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"comment"}),Object(T.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Comment"})]}),Object(T.jsx)("div",{children:Object(T.jsx)(Pe,{members:n.members,onCommentAdd:function(e){return m("activities",[e].concat(Object(de.a)(x.activities)))}})})]}),Object(T.jsx)(w.a,{name:"activities",control:u,defaultValue:[],render:function(e){var t=e.field,a=(t.onChange,t.value);return Object(T.jsx)("div",{children:a.length>0&&Object(T.jsxs)("div",{className:"mb-24",children:[Object(T.jsxs)("div",{className:"flex items-center mt-16",children:[Object(T.jsx)(i.a,{className:"text-20",color:"inherit",children:"list"}),Object(T.jsx)(U.a,{className:"font-semibold text-16 mx-8",children:"Activity"})]}),Object(T.jsx)(me.a,{className:"",children:a.map((function(e){return Object(T.jsx)(pe,{item:e,members:n.members},e.id)}))})]})})}})]})]}):null};var Ye=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.scrumboardApp.card.dialogOpen}));return Object(T.jsx)(le.a,{classes:{paper:"max-w-lg w-full m-24"},onClose:function(e){return t(Object(J.a)())},open:a,children:Object(T.jsx)(Ue,{})})},Ge=a(1157),We=a(1108);var Je=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.scrumboardApp.board}));return Object(T.jsxs)("div",{children:[Object(T.jsx)(r.a,{position:"static",children:Object(T.jsx)(o.a,{className:"flex w-full justify-center",children:"Settings"})}),Object(T.jsxs)(me.a,{className:"py-16",dense:!0,children:[Object(T.jsxs)(xe.a,{button:!0,onClick:function(){return t(Object(g.a)({cardCoverImages:!a.settings.cardCoverImages}))},children:[Object(T.jsx)(X.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"photo"})}),Object(T.jsx)(Z.a,{primary:"Card Cover Images"}),Object(T.jsx)(Ge.a,{children:Object(T.jsx)(We.a,{onChange:function(){return t(Object(g.a)({cardCoverImages:!a.settings.cardCoverImages}))},checked:a.settings.cardCoverImages})})]}),Object(T.jsxs)(xe.a,{button:!0,onClick:function(){return t(Object(g.a)({subscribed:!a.settings.subscribed}))},children:[Object(T.jsx)(X.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"remove_red_eye"})}),Object(T.jsx)(Z.a,{primary:"Subscribe"}),Object(T.jsx)(Ge.a,{children:Object(T.jsx)(We.a,{onChange:function(){return t(Object(g.a)({subscribed:!a.settings.subscribed}))},checked:a.settings.subscribed})})]}),Object(T.jsxs)(xe.a,{button:!0,onClick:function(){return t(Object(g.b)(a))},children:[Object(T.jsx)(X.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"file_copy"})}),Object(T.jsx)(Z.a,{primary:"Copy Board"})]}),Object(T.jsxs)(xe.a,{button:!0,onClick:function(){return t(Object(g.d)(a.id))},children:[Object(T.jsx)(X.a,{className:"min-w-40",children:Object(T.jsx)(i.a,{children:"delete"})}),Object(T.jsx)(Z.a,{primary:"Delete Board"})]})]})]})};t.default=Object(u.a)("scrumboardApp",v.a)(Object(x.k)((function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.scrumboardApp.board})),u=Object(x.j)(),v=Object(j.useRef)(null),N=Object(j.useState)(!1),w=Object(n.a)(N,2),C=w[0],y=w[1];function k(e){y(void 0===e?!C:e)}return Object(h.b)((function(){return t(Object(g.e)(u)),function(){t(Object(g.m)())}}),[t,u]),a?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(p.a,{styles:function(e){return{"#fuse-main":{height:"100vh"}}}}),Object(T.jsxs)("div",{className:"flex flex-1 flex-auto flex-col w-full h-full relative",ref:v,children:[Object(T.jsx)(r.a,{position:"static",color:"primary",elevation:0,children:Object(T.jsxs)(o.a,{className:"flex items-center justify-between px-4 sm:px-24 h-48 sm:h-64 sm:h-96 container",children:[Object(T.jsx)(s.a,{smDown:!0,children:Object(T.jsxs)(c.a,{to:"/apps/scrumboard/boards/",component:O.a,variant:"contained",color:"secondary",children:[Object(T.jsx)(i.a,{children:"assessment"}),Object(T.jsx)("span",{className:"px-8",children:"Boards"})]})}),Object(T.jsx)(s.a,{smUp:!0,children:Object(T.jsx)(l.a,{color:"inherit",to:"/apps/scrumboard/boards/",component:O.a,size:"large",children:Object(T.jsx)(i.a,{children:"assessment"})})}),Object(T.jsx)("div",{className:"flex flex-1 justify-center items-center",children:Object(T.jsx)(ie,{})}),Object(T.jsx)(l.a,{color:"inherit",onClick:function(){return k(!0)},size:"large",children:Object(T.jsx)(i.a,{children:"settings"})})]})}),Object(T.jsx)("div",{className:Object(b.default)("flex flex-1 overflow-x-auto overflow-y-hidden"),children:Object(T.jsx)(m.a,{onDragEnd:function(e){var a=e.source,n=e.destination;n&&(a.droppableId===n.droppableId&&a.index===n.index||("list"===e.type&&t(Object(g.l)(e)),"card"===e.type&&t(Object(g.k)(e))))},children:Object(T.jsx)(m.c,{droppableId:"list",type:"list",direction:"horizontal",children:function(e){return Object(T.jsxs)("div",{ref:e.innerRef,className:"flex container py-16 md:py-24 px-8 md:px-12",children:[a.lists.map((function(e,t){return Object(T.jsx)(re,{list:e,index:t},e.id)})),e.placeholder,Object(T.jsx)(R,{})]})}})})}),Object(T.jsx)(d.a,{anchor:"right",className:"absolute overflow-hidden",classes:{paper:"absolute w-320"},BackdropProps:{classes:{root:"absolute"}},container:v.current,ModalProps:{keepMounted:!0,style:{position:"absolute"}},open:C,onOpen:function(e){},onClose:function(){return k(!1)},disableSwipeToOpen:!0,children:Object(T.jsx)(Je,{})}),Object(T.jsx)(Ye,{})]})]}):null})))}}]);